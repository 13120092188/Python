<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>json</title>

<link href="static/css/bootstrap.min.css" rel="stylesheet">
<link href="static/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="static/css/demo.css">
<style type="text/css">
.box{
	width: 20px;
	height: 20px;
	padding: 2px;
	border:1px solid #ccc;
	border-radius: 2px;
}
</style>

</head>
<body onload="update({{data1}})">

<div class="container">
	<div class="row">
		<div class="col-md-12" style="padding:2em 0;">
			<p>点击 <i class="fa fa-pencil box"></i> 按钮可以对表格进行编辑，点击 <i class="fa fa-trash-o box"></i>按钮可以将该表格行删除。</p>
			<div class="table-responsive">
				<table class="table table-bordered table-striped" id="mytable">
					<thead>
					  <tr>
						<td>numIndex</td>
						<td>timestamp</td>
						<td>data</td>
						<td>pre_hash</td>
						<td>self_hash</td>
						<td>nonce</td>
						<td>diff</td>
					  </tr>
					</thead>
					<tbody id="tbody">

					</tbody>
				</table>
			</div>
		</div>
		<div class="col-md-12"  style="padding-bottom:2em;">
			<button class="btn btn-info" id="add"><i class="fa fa-plus"></i> 添加新的表格行</button>
		</div>
	</div>
</div>

<script src="static/js/jquery-1.11.0.min.js" type="text/javascript"></script>
<script type="text/javascript" src="static/js/bootstable.js"></script>
<script type="text/javascript">
	$('#mytable').SetEditable({
		$addButton: $('#add')
	});

	function update(data1) {
		//先保存div中原来的html
		//var html = document.getElementById("list-of-commodity").innerHTML;
		var html = ' ';
		//再跟你想追加的代码加到一起插入div中
		var numIndex = "";
		var timestamp = "";
		var data = "";
		var pre_hash = "";
		var self_hash = "";
		var nonce = "";
		var diff = "";
		for(var i = 0; i < data1.length; i++)
		{
			if (i%7 == 0) numIndex = data1[i];
			if (i%7 == 1) timestamp = data1[i];
			if (i%7 == 2) data = data1[i];
			if (i%7 == 3) pre_hash = data1[i];
			if (i%7 == 4) self_hash = data1[i];
			if (i%7 == 5) nonce = data1[i];
			if (i%7 == 6) {
				diff = data1[i];
				html = html + "<tr><td>" + numIndex + "</td><td>" + timestamp + "</td><td>" + data + "</td><td>" + pre_hash + "</td><td>" + self_hash + "</td><td>" + nonce + "</td><td>" + diff + "</td></tr>";
			}
		}
		document.getElementById("tbody").innerHTML = html;
	}
</script>

</body>
</html>